<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    
    <!-- Styles -->
    <style>
        html, body {width: 100%; height: 100%; margin: 0; padding: 0;}
        #map {position:absolute; top:0; bottom:0; right:0; left:0;}
        .coord-info {position: fixed; bottom: 20px; right: 20px; background: rgba(255,255,255,0.9); padding: 10px; border-radius: 5px; box-shadow: 0 0 15px rgba(0,0,0,0.2); z-index: 999; font-family: Arial, sans-serif;}
        .globe-indicator {position: fixed; top: 20px; left: 20px; background: rgba(255,255,255,0.9); padding: 10px 15px; border-radius: 20px; box-shadow: 0 0 15px rgba(0,0,0,0.2); z-index: 999; font-family: Arial, sans-serif;}
        .map-title {position: fixed; top: 20px; width: 100%; text-align: center; font-size: 24px; font-weight: bold; color: #333; text-shadow: 0 0 5px rgba(255,255,255,0.8); z-index: 999;}
        .leaflet-popup-content {font-family: 'Arial', sans-serif; min-width: 200px;}
        .popup-header {font-size: 16px; font-weight: bold; margin-bottom: 8px; color: #2c3e50;}
        .popup-stats {font-size: 14px; color: #34495e;}
        .rank-badge {background: #e74c3c; color: white; padding: 2px 8px; border-radius: 3px; margin-right: 5px;}
    </style>

    <!-- Libraries -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.css"/>
    <script src="https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.2.0/css/all.min.css"/>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet.mouseposition/1.0.0/leaflet.mouseposition.min.js"></script>
</head>
<body>
    <div class="map-title">Global Tourism Hotspots 2023</div>
    <div class="globe-indicator"><i class="fas fa-globe-americas"></i> World Map</div>
    <div id="map"></div>
    <div class="coord-info" id="coordinates">
        <i class="fas fa-map-marker-alt"></i> 
        Lat: <span id="lat">0.00</span>°, 
        Lng: <span id="lng">0.00</span>°
    </div>

<script>
// Initialize map with better tile layer
var map = L.map('map', {
    center: [20.0, 0.0],
    zoom: 2,
    layers: [L.tileLayer('https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png', {
        attribution: '© OpenStreetMap, © CARTO',
        subdomains: 'abcd',
        maxZoom: 19
    })]
});

// Add coordinate display
L.control.mousePosition({
    position: 'bottomright',
    separator: ' | ',
    emptyString: 'Hover over map',
    lngFirst: false,
    numDigits: 2,
    prefix: ''
}).addTo(map);

// Add custom coordinate display
map.on('mousemove', function(e) {
    document.getElementById('lat').textContent = e.latlng.lat.toFixed(2);
    document.getElementById('lng').textContent = e.latlng.lng.toFixed(2);
});

// Custom marker style function
function getMarkerStyle(rank) {
    const colors = {
        1: '#e74c3c',
        2: '#e67e22',
        3: '#f1c40f',
        4: '#2ecc71',
        5: '#3498db'
    };
    return {
        radius: 5 + (20 - rank) * 0.3,
        color: rank <= 5 ? colors[rank] : '#3498db',
        weight: 1.5,
        opacity: 1,
        fillColor: rank <= 5 ? colors[rank] : '#3498db',
        fillOpacity: 0.2
    };
}

// Cities data array
const cities = [
    {name: "Bangkok", coords: [13.7563, 100.5018], visitors: "22.78M", rank: 1},
    {name: "Paris", coords: [48.8566, 2.3522], visitors: "19.10M", rank: 2},
    {name: "London", coords: [51.5074, -0.1278], visitors: "19.09M", rank: 3},
    {name: "Dubai", coords: [25.2048, 55.2708], visitors: "15.93M", rank: 4},
    {name: "Singapore", coords: [1.3521, 103.8198], visitors: "14.67M", rank: 5},
    {name: "Kuala Lumpur", coords: [3.139, 101.6869], visitors: "13.79M", rank: 6},
    {name: "New York City", coords: [40.7128, -74.006], visitors: "13.60M", rank: 7},
    {name: "Istanbul", coords: [41.0082, 28.9784], visitors: "13.40M", rank: 8},
    {name: "Tokyo", coords: [35.6762, 139.6503], visitors: "12.93M", rank: 9},
    {name: "Antalya", coords: [36.8869, 30.7026], visitors: "12.41M", rank: 10},
    {name: "Seoul", coords: [37.5665, 126.978], visitors: "12.20M", rank: 11},
    {name: "Mumbai", coords: [19.076, 72.8777], visitors: "11.90M", rank: 12},
    {name: "Rome", coords: [41.9028, 12.4964], visitors: "11.70M", rank: 13},
    {name: "Osaka", coords: [34.6937, 135.5023], visitors: "11.50M", rank: 14},
    {name: "Hong Kong", coords: [22.3193, 114.1694], visitors: "11.30M", rank: 15},
    {name: "Barcelona", coords: [41.3851, 2.1734], visitors: "11.10M", rank: 16},
    {name: "Amsterdam", coords: [52.3676, 4.9041], visitors: "10.90M", rank: 17},
    {name: "Vienna", coords: [48.2082, 16.3738], visitors: "10.70M", rank: 18},
    {name: "Berlin", coords: [52.52, 13.405], visitors: "10.50M", rank: 19},
    {name: "Prague", coords: [50.0755, 14.4378], visitors: "10.30M", rank: 20}
];

// Add markers with popups
cities.forEach(city => {
    L.circleMarker(city.coords, getMarkerStyle(city.rank))
    .bindPopup(`
        <div class="popup-header">
            <span class="rank-badge">#${city.rank}</span>
            ${city.name}
        </div>
        <div class="popup-stats">
            <i class="fas fa-users"></i> Visitors: <strong>${city.visitors}</strong>
        </div>
    `)
    .bindTooltip(`${city.name} (#${city.rank})`, {permanent: false, direction: 'top'})
    .addTo(map);
});
</script>
</body>
</html>